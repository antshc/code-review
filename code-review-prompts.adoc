= AI Code Review Prompts (Prompt-as-Code)
:toc:
:toclevels: 2
:sectanchors:

This document treats AI instructions as *code artifacts*: explicit, versionable, and reusable.
Each instruction is written as a parameterized template.

== Core Code Review Instructions

=== General Review
[source,text]
----
Review the following code for:
- potential bugs
- performance bottlenecks
- security vulnerabilities
- adherence to {LANGUAGE}/{FRAMEWORK} best practices

Constraints:
- Target audience: {AUDIENCE_LEVEL}
- Environment: {RUNTIME / OS}
- Non-goals: {OUT_OF_SCOPE}

Output:
- Actionable suggestions
- Explanation for each suggestion
----

=== Bug & Error Analysis
[source,text]
----
This code produces the following issue:
{ERROR_MESSAGE | UNEXPECTED_BEHAVIOR}

Tasks:
1. Identify the root cause
2. Explain why it occurs
3. Provide a corrected version of the code
4. Improve error handling and edge-case coverage
----

=== Performance & Optimization
[source,text]
----
Optimize the following code.

Constraints:
- Target time complexity: {TARGET_COMPLEXITY} (e.g., O(n))
- Memory constraints: {MEMORY_LIMITS}
- Concurrency model: {SINGLE_THREADED | MULTI_THREADED}

Tasks:
1. Analyze current time and space complexity
2. Propose optimizations (e.g., caching, data structures)
3. Explain trade-offs between performance and readability
----

=== Readability & Style
[source,text]
----
Refactor the following code.

Rules:
- Follow {STYLE_GUIDE} (e.g., PEP 8, .NET Coding Guidelines)
- Improve naming, structure, and modularity
- Reduce cognitive complexity

Deliverables:
- Refactored code
- Short explanation of key changes
----

=== Security Review
[source,text]
----
Analyze the following code for security risks.

Threat Model:
- Input source: {USER / API / FILE / NETWORK}
- Data sensitivity: {LOW | MEDIUM | HIGH}

Check for:
- Injection vulnerabilities (SQL, XSS, command injection)
- Insecure deserialization
- Authentication / authorization flaws

Output:
- Identified vulnerabilities
- Concrete mitigation steps
----

== Advanced Instruction Patterns

=== Explain Code (Junior â†’ Senior)
[source,text]
----
Explain the following {LANGUAGE} code to a junior developer.

Steps:
1. Explain each block and its purpose
2. Highlight common mistakes
3. Show a production-grade implementation
4. Explain why the advanced version is better
----

=== Test Generation
[source,text]
----
Generate unit tests for the following code.

Framework: {TEST_FRAMEWORK} (e.g., xUnit, Jest, Pytest)

Requirements:
- Cover happy path
- Cover edge cases
- Cover failure scenarios
- Use clear test naming

Output:
- Complete test file
----

=== Documentation Generation
[source,text]
----
Generate API documentation from the following code.

Format: AsciiDoc / Markdown

Include:
- Purpose
- Parameters
- Return values
- Side effects
- Usage examples
----

=== Step-by-Step Refactoring (Interactive)
[source,text]
----
Help me refactor this file step by step.

Rules:
- Do NOT jump ahead
- Wait for "next" before proceeding

Step 1: Analyze structure and responsibilities
Step 2: Identify refactoring opportunities
Step 3: Apply refactorings incrementally
----

== Instruction Quality Checklist

[source,text]
----
CHECKLIST:
- [ ] Language and framework specified
- [ ] Clear goal defined
- [ ] Constraints documented
- [ ] Output expectations explicit
- [ ] Trade-offs requested
----

== Quick Inline Instructions

[source,text]
----
Review this code for readability, edge cases, and best practices.
----

[source,text]
----
Optimize this function to O(n) and explain trade-offs.
----

[source,text]
----
Explain this legacy code to a junior developer.
----

[source,text]
----
Generate unit tests using {FRAMEWORK}.
----
